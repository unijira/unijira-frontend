<ion-content>
  <ion-row class="ion-justify-content-end">
    <ion-buttons class="ion-float-right ion-padding">
      <ion-button class="ion-padding-horizontal" (click)="switchLanguage()" fill="solid">
        <span>{{translateService.currentLang}}</span>
      </ion-button>
    </ion-buttons>
  </ion-row>
  <ion-row class="ion-justify-content-center ion-align-items-center ion-padding" style="min-height: 75vh">
    <ion-col size="5" size-lg="auto">
      <ion-img src="/assets/logo.webp" alt="" style="max-width: 250px; margin:auto"></ion-img>
    </ion-col>
    <ion-col class="auth-form" size="10" size-lg="4" offset-lg="1">
      <ion-text>
        <h1>{{'register.title' | translate}}</h1>
      </ion-text>
      <ion-grid class="ion-no-padding">
        <ion-row class="ion-padding-vertical">
          <ion-col size="auto">
            <ion-chip class="ion-no-margin ion-margin-end" outline="{{index === 0 ? 'true' : 'false'}}" color="{{index === 0 ? 'primary' : 'success'}}" [disabled]="index === 0 ? 'false' : 'true'">
              <ion-icon name="mail"></ion-icon>
              <ion-label>{{'register.email' | translate}}</ion-label>
            </ion-chip>
          </ion-col>
          <ion-col size="auto">
            <ion-chip class="ion-no-margin" outline="{{index === 0 ? 'false' : 'true'}}" color="{{index === 0 ? 'dark' : 'primary'}}" [disabled]="index === 0 ? 'true' : 'false'">
              <ion-icon name="key"></ion-icon>
              <ion-label>{{'register.password' | translate}}</ion-label>
            </ion-chip>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-progress-bar color="primary" value="{{index === 0 ? '0' : '0.5'}}"></ion-progress-bar>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-slides pager="false" class="swiper-no-swiping ion-margin-vertical" #registrationSlider>
        <ion-slide style="width: 100%">
          <form *ngIf="index === 0" [formGroup]="emailFG" (ngSubmit)="onEmailConfirm()" style="width: 100%">

            <ion-item lines="full" class="ion-no-padding">
              <ion-label position="floating">{{'register.email' | translate}}</ion-label>
              <ion-input name="username" type="email" autocomplete="email" [formControl]="emailFC"></ion-input>
            </ion-item>

            <br/>

            <ion-grid class="ion-align-items-baseline ion-no-padding">
              <ion-row class="ion-align-items-center ion-justify-content-start">
                <ion-col size="auto" class="ion-margin-end ion-padding-end">
                  <ion-button type="submit" color="primary" [disabled]="!checkEmail()">{{'register.next' | translate}}</ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>

          </form>
        </ion-slide>
        <ion-slide>
          <form *ngIf="index === 1" [formGroup]="passwordFG" (ngSubmit)="onSubmit()" style="width: 100%">
            <ion-item lines="full" class="ion-no-padding">
              <ion-label position="floating">{{'register.password' | translate}}</ion-label>
              <ion-input name="password" type="password" autocomplete="password" [formControl]="passwordFC1"></ion-input>
            </ion-item>

            <ion-item lines="full" class="ion-no-padding">
              <ion-label position="floating">{{'register.password.confirm' | translate}}</ion-label>
              <ion-input name="confirm-password" type="password" autocomplete="confirm-password" [formControl]="passwordFC2"></ion-input>
            </ion-item>

            <br/>

            <ion-grid class="ion-align-items-baseline ion-no-padding">
              <ion-row class="ion-align-items-center ion-justify-content-start">
                <ion-col size="auto" class="ion-margin-end ion-padding-end">
                  <ion-button type="submit" color="primary" [disabled]="!checkPsw()">{{'register.finished' | translate}}</ion-button>
                </ion-col>
                <ion-col size="auto" class="ion-no-margin ion-no-padding">
                  <ion-button type="button" fill="clear" color="dark" (click)="goBack()">{{'register.back' | translate}}</ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>

          </form>
        </ion-slide>
      </ion-slides>
    </ion-col>
  </ion-row>

  <ion-row class="ion-margin-vertical">
    <ion-col>
      <div class="ion-text-center">
        <ion-text color="medium">
          <span [translate]="'register.alreadyHaveAccount'"></span>
        </ion-text>
        <a class="ion-margin-start" [routerLink]="['/login']" [translate]="'register.signIn'"></a>
      </div>
    </ion-col>
  </ion-row>
</ion-content>
