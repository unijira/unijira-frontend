<ion-content>

  <!-- Project Settings Permissions -->
  <ion-row class="ion-justify-content-center ion-margin-vertical">
    <ion-col size="auto">
      <div class="container-main-inner">

        <!-- Breadcrumbs -->
        <section>
          <ion-breadcrumbs>
            <ion-breadcrumb [routerLink]="['/']">
              <ion-icon name="home"></ion-icon>
            </ion-breadcrumb>
            <ion-breadcrumb [routerLink]="['/projects/']">{{'project.settings.details.projects' | translate}}</ion-breadcrumb>
            <ion-breadcrumb [routerLink]="['/home/projects/' + this.project?.id + '/settings/details']">{{'project.settings.details.settings' | translate}}</ion-breadcrumb>
          </ion-breadcrumbs>
        </section>


        <!-- Permissions Header -->
        <ion-grid>

          <br>

          <ion-row>

            <!-- Permissions Title -->
            <ion-col>
              <ion-text>
                <h1 [translate]="'project.settings.permissions.title'"></h1>
              </ion-text>
            </ion-col>

          </ion-row>


          <ion-row>

            <!-- Permissions Subtitle -->
            <ion-col>
              <ion-text>
                <h4 [translate]="'project.settings.permissions.subtitle'"></h4>
              </ion-text>
            </ion-col>

          </ion-row>

          <ion-row>

            <!-- Permissions Information's Icon -->
            <ion-col size="auto" class="ion-align-self-center">
              <ion-icon size="large" name="information-circle" class="info-icon"></ion-icon>
            </ion-col>

            <!-- Permissions Information's -->
            <ion-col class="ion-align-self-center">
              <ion-text>
                <h5 class="info-text" [translate]="'project.settings.permissions.info'"></h5>
              </ion-text>
            </ion-col>

          </ion-row>

          <br>
          <br>

          <ion-row>

            <!-- Permissions User -->
            <ion-col size="8" class="ion-align-self-center">
              <ion-item>
                <ion-label position="floating">{{'projects.settings.permissions.filter.user.type' | translate}}</ion-label>
                <ion-select interface="popover">
                  <ion-select-option *ngFor="let membership of memberships || []" value='{{membership?.userInfo?.username}}'>
                    <ion-item>
                      {{ membership?.userInfo?.username }}
                    </ion-item>
                  </ion-select-option>
                </ion-select>
              </ion-item>
            </ion-col>

            <!-- Permissions Masks -->
            <ion-col size="4" class="ion-align-self-center">
              <ion-item>
                <ion-label position="floating">{{'projects.settings.permissions.filter.mask.type' | translate}}</ion-label>
                <ion-select (ionChange)="selectedUser = $event.detail.value" [(ngModel)]="selectedUser" interface="popover">
                  <ion-select-option *ngFor="let mask of masks" value='{{mask.role}}'>{{ mask.translate | translate }}</ion-select-option>
                </ion-select>
              </ion-item>
            </ion-col>

          </ion-row>

          <div class="ion-margin">

            <!-- Permission List -->

            <ion-list-header>

              <ion-col>
                <ion-label [translate]="'projects.settings.permissions.type'"></ion-label>
              </ion-col>
              <ion-col size="auto">
                <ion-label [translate]="'projects.settings.permissions.state'"></ion-label>
              </ion-col>

            </ion-list-header>


            <ion-list>
              <ion-item *ngFor="let permission of permissions" class="roles-item">

                <!-- Permission -->
                <ion-label class="ion-padding">
                  <h2 [innerHTML]="permission"></h2>
                </ion-label>

                <!-- Status -->
                <div *ngFor="let member of membership">
                  <ion-checkbox slot="end" value="{{member.permissions.includes(permission)}}"></ion-checkbox>
                </div>

              </ion-item>
            </ion-list>

          </div>

        </ion-grid>

      </div>
    </ion-col>
  </ion-row>

</ion-content>
